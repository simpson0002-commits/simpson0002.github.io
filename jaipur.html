<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìì´í‘¸ë¥´ ì—­ì‚¬ íƒí—˜ ê°€ì´ë“œ: í•‘í¬ ì‹œí‹°ì˜ ìœ ì‚°</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: Jaipur Pink & Royal Heritage -->
    <!-- 
        Primary Background: #FFF8F0 (Warm Off-white/Sandstone)
        Secondary Background: #FFE4E1 (Misty Rose - subtle pink nod)
        Accent Color: #E67E73 (Terracotta/Jaipur Pink)
        Text Color: #4A3B32 (Dark Brown/Sepia for historical feel)
        Highlight: #D4AF37 (Gold/Brass for royal accents)
    -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        jaipur: {
                            bg: '#FFF8F0',
                            light: '#FFE4E1',
                            pink: '#CD5C5C', // Indian Red/Terracotta
                            dark: '#4A3B32',
                            gold: '#D4AF37',
                            accent: '#E9967A'
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans KR"', 'sans-serif'],
                        serif: ['"Noto Serif KR"', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #FFF8F0;
            color: #4A3B32;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(74, 59, 50, 0.1), 0 2px 4px -1px rgba(74, 59, 50, 0.06);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #FFF8F0; 
        }
        ::-webkit-scrollbar-thumb {
            background: #CD5C5C; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #A52A2A; 
        }
    </style>

    <!-- Application Structure Plan: 
         1. Hero Section: Immersion into the "Pink City" concept.
         2. Dashboard Layout: Two-column layout on desktop.
            - Left Column: Interactive Navigation (Plotly Map) & Timeline.
            - Right Column: Dynamic Detail View (Context, Art, Architecture Radar Chart).
         3. Planning Section: Climate/Crowd data for practical utility.
         The structure prioritizes "Exploration" -> "Deep Dive" -> "Practicality". 
         Users select a location on the schematic map to reveal its historical soul.
    -->

    <!-- Visualization & Content Choices:
         1. Plotly Scatter Map: To show relative locations (North/South/East/West from City Center) abstractly without needing a heavy map API. Goal: Orient the user spatially.
         2. Chart.js Radar Chart: To visualize the "Architectural Blend" (Rajput vs Mughal vs European influence). Goal: Analyze art history visually.
         3. Chart.js Bar/Line Combo: For Weather vs Tourist traffic. Goal: Help plan the visit time.
         4. Dynamic Text Blocks: To provide the requested specific descriptions and history.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="font-sans antialiased selection:bg-jaipur-pink selection:text-white">

    <!-- Header / Hero -->
    <header class="w-full bg-jaipur-pink text-white py-12 px-6 text-center relative overflow-hidden shadow-lg">
        <div class="max-w-4xl mx-auto relative z-10">
            <h1 class="font-serif text-4xl md:text-5xl font-bold mb-4">ìì´í‘¸ë¥´: í•‘í¬ ì‹œí‹°ì˜ ìœ ì‚°</h1>
            <p class="text-lg md:text-xl opacity-90 font-light max-w-2xl mx-auto">
                ë¼ììŠ¤íƒ„ì˜ ì‹¬ì¥, ì™•ê°€ë“¤ì˜ ì—­ì‚¬ì™€ ì˜ˆìˆ ì´ ìˆ¨ ì‰¬ëŠ” ê³³.<br>
                ì—­ì‚¬ì  ëª…ì†Œì™€ ê±´ì¶• ì–‘ì‹ì„ í†µí•´ ë– ë‚˜ëŠ” ì‹œê°„ ì—¬í–‰ ê°€ì´ë“œì…ë‹ˆë‹¤.
            </p>
        </div>
        <!-- Decorative Circle -->
        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl"></div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8 space-y-12">

        <!-- Intro Section -->
        <section class="text-center max-w-4xl mx-auto">
            <h2 class="text-2xl font-serif font-bold text-jaipur-dark mb-4 border-b-2 border-jaipur-gold inline-block pb-1">íƒí—˜ ê°€ì´ë“œ ì‹œì‘í•˜ê¸°</h2>
            <p class="text-gray-700 leading-relaxed text-left md:text-center mt-4">
                ì´ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œëŠ” ì—­ì‚¬ì™€ ì˜ˆìˆ ì— ê´€ì‹¬ ìˆëŠ” ì—¬í–‰ìë¥¼ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. 
                ì•„ë˜ <strong>'ê³µê°„ íƒìƒ‰ ì§€ë„'</strong>ì—ì„œ ëª…ì†Œë¥¼ í´ë¦­í•˜ë©´, í•´ë‹¹ ì¥ì†Œì˜ <strong>ì—­ì‚¬ì  ë§¥ë½</strong>, <strong>ê±´ì¶• ì–‘ì‹ ë¶„ì„</strong>, 
                ê·¸ë¦¬ê³  <strong>ì—¬í–‰ íŒ</strong>ì„ ìƒì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì´í‘¸ë¥´ëŠ” 1727ë…„ ì‚¬ì™€ì´ ìì´ ì‹± 2ì„¸ì— ì˜í•´ ê³„íšëœ ì¸ë„ ìµœì´ˆì˜ ê³„íšë„ì‹œë¡œ, 
                íŒë‘ì˜ ì‹¤íŒŒ ìƒ¤ìŠ¤íŠ¸ë¼(Shilpa Shastra) ê±´ì¶• ì´ë¡ ì„ ë°”íƒ•ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
        </section>

        <!-- Main Explorer Dashboard -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- LEFT PANEL: Navigation & Map (5 cols) -->
            <div class="lg:col-span-5 space-y-8">
                
                <!-- Schematic Map Container -->
                <div class="bg-white p-6 rounded-xl card-shadow border border-jaipur-light">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-jaipur-pink flex items-center">
                            <span class="mr-2 text-2xl">ğŸ—ºï¸</span> ê³µê°„ íƒìƒ‰ ì§€ë„
                        </h3>
                        <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">ì ë“¤ì„ í´ë¦­í•´ë³´ì„¸ìš”</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">
                        ì‹œí‹° íŒ°ë¦¬ìŠ¤(ì¤‘ì•™)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê° ëª…ì†Œì˜ ìƒëŒ€ì ì¸ ìœ„ì¹˜ì™€ ê³ ë„(ì–¸ë•/í‰ì§€)ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
                    </p>
                    <div id="map-container" class="w-full h-80 rounded-lg overflow-hidden bg-jaipur-bg">
                        <!-- Plotly Map Rendered Here -->
                    </div>
                </div>

                <!-- Timeline List (Interactive) -->
                <div class="bg-white p-6 rounded-xl card-shadow border border-jaipur-light">
                    <h3 class="text-xl font-bold text-jaipur-dark mb-4">â³ ì—­ì‚¬ì  íƒ€ì„ë¼ì¸</h3>
                    <div class="space-y-0 relative border-l-2 border-jaipur-gold ml-3" id="timeline-list">
                        <!-- Dynamic JS Population -->
                    </div>
                </div>

            </div>

            <!-- RIGHT PANEL: Details & Analytics (7 cols) -->
            <div class="lg:col-span-7 space-y-6">
                
                <!-- Dynamic Content Display -->
                <div id="detail-panel" class="bg-white p-8 rounded-xl card-shadow border-t-4 border-jaipur-pink min-h-[600px] transition-all duration-300">
                    
                    <!-- Header of Detail -->
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b border-gray-100 pb-4">
                        <div>
                            <span id="detail-badge" class="bg-jaipur-gold text-white text-xs font-bold px-2 py-1 rounded mb-2 inline-block">1799ë…„ ì™„ê³µ</span>
                            <h2 id="detail-title" class="text-3xl font-serif font-bold text-jaipur-dark">í•˜ì™€ ë§ˆí•  (ë°”ëŒì˜ ê¶ì „)</h2>
                            <p id="detail-subtitle" class="text-jaipur-pink font-medium italic">Hawa Mahal - Palace of Winds</p>
                        </div>
                    </div>

                    <!-- Content Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Text Content -->
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-bold text-gray-800 flex items-center mb-2">
                                    <span class="text-jaipur-gold mr-2">ğŸ“œ</span> ì—­ì‚¬ì  ë§¥ë½
                                </h4>
                                <p id="detail-history" class="text-sm text-gray-600 leading-relaxed">
                                    1799ë…„ ì‚¬ì™€ì´ í”„ë¼íƒ­ ì‹±(Sawai Pratap Singh)ì´ ê±´ë¦½í–ˆìŠµë‹ˆë‹¤. ì™•ì‹¤ì˜ ì—¬ì¸ë“¤ì´ ì–¼êµ´ì„ ë“œëŸ¬ë‚´ì§€ ì•Šê³ (Purdah ì œë„) ê±°ë¦¬ì˜ ì¶•ì œì™€ ì¼ìƒì„ êµ¬ê²½í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ë…íŠ¹í•œ ê±´ì¶•ë¬¼ì…ë‹ˆë‹¤.
                                </p>
                            </div>
                            
                            <div>
                                <h4 class="font-bold text-gray-800 flex items-center mb-2">
                                    <span class="text-jaipur-gold mr-2">ğŸ›ï¸</span> ê±´ì¶• íŠ¹ì§•
                                </h4>
                                <p id="detail-arch" class="text-sm text-gray-600 leading-relaxed">
                                    953ê°œì˜ ì‘ì€ ì°½ë¬¸(Jharokhas)ì´ íŠ¹ì§•ìœ¼ë¡œ, ì´ëŠ” ë”ìš´ ì—¬ë¦„ì—ë„ ì‹œì›í•œ ë°”ëŒì´ í†µí•˜ê²Œ í•˜ëŠ” ì—ì–´ì»¨ ì—­í• ì„ í•©ë‹ˆë‹¤. íŒë‘ ì‹  í¬ë¦¬ìŠˆë‚˜ì˜ ì™•ê´€ ëª¨ì–‘ì„ í˜•ìƒí™”í–ˆìŠµë‹ˆë‹¤.
                                </p>
                            </div>

                            <div class="bg-jaipur-light bg-opacity-30 p-4 rounded-lg">
                                <h4 class="font-bold text-jaipur-dark text-sm mb-2">ğŸ’¡ ê´€ëŒ íŒ</h4>
                                <p id="detail-tips" class="text-xs text-gray-700">
                                    ì´ë¥¸ ì•„ì¹¨ í–‡ì‚´ì„ ë°›ì„ ë•Œ ê°€ì¥ ì•„ë¦„ë‹¤ìš´ ë¶‰ì€ ë¹›ì„ ë±ë‹ˆë‹¤. ë§ì€í¸ ì¹´í˜ ì˜¥ìƒì—ì„œ ì „ê²½ì„ ì°ëŠ” ê²ƒì´ í¬ì¸íŠ¸ì…ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>

                        <!-- Visualization Column -->
                        <div class="flex flex-col space-y-6">
                            <!-- Architecture Radar Chart -->
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h4 class="text-center text-sm font-bold text-gray-600 mb-2">ê±´ì¶• ì–‘ì‹ êµ¬ì„± ë¶„ì„</h4>
                                <div class="chart-container mx-auto h-64">
                                    <canvas id="archRadarChart"></canvas>
                                </div>
                                <p class="text-center text-xs text-gray-400 mt-2">ìŠ¤íƒ€ì¼ ì˜í–¥ë„ ë¶„ì„</p>
                            </div>

                            <!-- Quick Stats -->
                            <div class="grid grid-cols-2 gap-2 text-center">
                                <div class="bg-jaipur-bg p-2 rounded">
                                    <span class="block text-xs text-gray-500">ì†Œìš” ì‹œê°„</span>
                                    <span id="stat-time" class="font-bold text-jaipur-dark">1ì‹œê°„</span>
                                </div>
                                <div class="bg-jaipur-bg p-2 rounded">
                                    <span class="block text-xs text-gray-500">ì…ì¥ë£Œ(ì™¸êµ­ì¸)</span>
                                    <span id="stat-price" class="font-bold text-jaipur-dark">â‚¹200</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- Planning Section -->
        <section class="bg-white p-8 rounded-xl card-shadow mt-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                <div class="md:col-span-1">
                    <h2 class="text-2xl font-serif font-bold text-jaipur-dark mb-4">ğŸ—“ï¸ ì—¬í–‰ ê³„íš ê°€ì´ë“œ</h2>
                    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
                        ìì´í‘¸ë¥´ëŠ” ë°˜ê±´ì¡° ê¸°í›„ë¡œ ê³„ì ˆì— ë”°ë¼ ì—¬í–‰ ë‚œì´ë„ê°€ í¬ê²Œ ë‹¬ë¼ì§‘ë‹ˆë‹¤. 
                        ë°ì´í„°ë¥¼ í†µí•´ ìµœì ì˜ ë°©ë¬¸ ì‹œê¸°ë¥¼ í™•ì¸í•˜ì„¸ìš”.
                    </p>
                    <ul class="text-sm space-y-2 text-gray-700">
                        <li class="flex items-center"><span class="w-3 h-3 bg-jaipur-pink rounded-full mr-2"></span>ì„±ìˆ˜ê¸°: 10ì›” ~ 3ì›” (ì¾Œì í•¨)</li>
                        <li class="flex items-center"><span class="w-3 h-3 bg-gray-400 rounded-full mr-2"></span>ë¹„ìˆ˜ê¸°: 4ì›” ~ 6ì›” (ë§¤ìš° ë”ì›€)</li>
                        <li class="flex items-center"><span class="w-3 h-3 bg-blue-400 rounded-full mr-2"></span>ìš°ê¸°: 7ì›” ~ 9ì›”</li>
                    </ul>
                </div>
                <div class="md:col-span-2">
                    <div class="chart-container w-full h-80">
                        <canvas id="weatherChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm py-8 border-t border-jaipur-gold border-opacity-30">
            <p>Â© 2026 Jaipur Historical Guide Interactive. Designed for history enthusiasts.</p>
        </footer>

    </main>

    <script>
        // --- DATA STORE ---
        const monuments = [
            {
                id: 'hawa-mahal',
                name: 'í•˜ì™€ ë§ˆí• ',
                sub: 'ë°”ëŒì˜ ê¶ì „ (Palace of Winds)',
                year: 1799,
                locX: 0.1, // Near center
                locY: -0.1, 
                locationType: 'ë„ì‹¬ (City Center)',
                history: '1799ë…„ ì‚¬ì™€ì´ í”„ë¼íƒ­ ì‹±ì´ ê±´ë¦½í–ˆìŠµë‹ˆë‹¤. "Purdah(í¼ë‹¤)" ê´€ìŠµì„ ì—„ê²©íˆ ë”°ë¥´ë˜ ì™•ì‹¤ ì—¬ì¸ë“¤ì´ ì™¸ë¶€ì¸ì—ê²Œ ì–¼êµ´ì„ ë³´ì´ì§€ ì•Šê³ ë„ ê±°ë¦¬ì˜ ì¶•ì œì™€ ì¼ìƒì„ êµ¬ê²½í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ë…íŠ¹í•œ ê±´ì¶•ë¬¼ì…ë‹ˆë‹¤.',
                arch: 'ë¼ì§€í‘¸íŠ¸(Rajput) ì–‘ì‹ê³¼ ë¬´êµ´(Mughal) ì–‘ì‹ì´ ê²°í•©ë˜ì—ˆìŠµë‹ˆë‹¤. ë²Œì§‘ ëª¨ì–‘ì˜ 953ê°œ ì°½ë¬¸(Jharokhas)ì€ ë²¤íˆ¬ë¦¬ íš¨ê³¼ë¥¼ ì¼ìœ¼ì¼œ ë‚´ë¶€ë¥¼ ì‹œì›í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. íŒë‘ ì‹  í¬ë¦¬ìŠˆë‚˜ì˜ ì™•ê´€ í˜•ìƒì…ë‹ˆë‹¤.',
                tips: 'ì˜¤ì „ 9ì‹œ ì´ì „ì— ë°©ë¬¸í•˜ì—¬ ë™ìª½ì—ì„œ ë– ì˜¤ë¥´ëŠ” í•´ê°€ ê±´ë¬¼ì„ ë¹„ì¶œ ë•Œ ì‚¬ì§„ì„ ì°ìœ¼ì„¸ìš”. ë‚´ë¶€ëŠ” ì¢ì€ ê²½ì‚¬ë¡œë¡œ ë˜ì–´ ìˆìœ¼ë‹ˆ í¸í•œ ì‹ ë°œì´ í•„ìˆ˜ì…ë‹ˆë‹¤.',
                time: '1ì‹œê°„',
                price: 'â‚¹200',
                archStats: [90, 30, 0, 80, 95], // Rajput, Mughal, European, Scale, Intricacy
                color: '#E67E73'
            },
            {
                id: 'amber-fort',
                name: 'ì•”ë² ë¥´ í¬íŠ¸',
                sub: 'ì•„ë©”ë¥´ ì„± (Amer Fort)',
                year: 1592,
                locX: 0.8, // Far North-East
                locY: 1.5, // High altitude/North
                locationType: 'ë¶ë™ìª½ ì–¸ë• (Hilltop)',
                history: '1592ë…„ ë¼ì ë§Œ ì‹± 1ì„¸ê°€ ê±´ì„¤ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ìì´í‘¸ë¥´ ì²œë„ ì´ì „ ì¹´ì¸ ì™€í•˜ ì™•ì¡°ì˜ ìˆ˜ë„ì˜€ìŠµë‹ˆë‹¤. í—˜ì¤€í•œ ì–¸ë• ìœ„ì— ì„¸ì›Œì§„ ë‚œê³µë¶ˆë½ì˜ ìš”ìƒˆì´ì í™”ë ¤í•œ ê¶ì „ì…ë‹ˆë‹¤.',
                arch: 'ì „í†µì ì¸ íŒë‘ ë¼ì§€í‘¸íŠ¸ ì–‘ì‹ì— ë¬´êµ´ ì–‘ì‹ì˜ ì¥ì‹ì´ ë”í•´ì¡ŒìŠµë‹ˆë‹¤. íŠ¹íˆ "ì‰¬ì‹œ ë§ˆí• (ê±°ìš¸ ê¶ì „)"ì€ ì´›ë¶ˆ í•˜ë‚˜ë¡œ ì˜¨ ë°©ì„ ë°í ìˆ˜ ìˆëŠ” ì •êµí•œ ìœ ë¦¬ ëª¨ìì´í¬ ì˜ˆìˆ ì˜ ì •ì ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.',
                tips: 'ì½”ë¼ë¦¬ë¥¼ íƒ€ê³  ì„±ì„ ì˜¤ë¥´ëŠ” ì²´í—˜ì´ ìœ ëª…í•˜ì§€ë§Œ, ë„ë³´ë¡œ ì˜¬ë¼ê°€ë©° ê²½ì¹˜ë¥¼ ì¦ê¸°ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ì €ë…ì˜ "ë¹›ê³¼ ì†Œë¦¬ ì‡¼"ê°€ í™˜ìƒì ì…ë‹ˆë‹¤.',
                time: '3~4ì‹œê°„',
                price: 'â‚¹550',
                archStats: [70, 60, 0, 95, 85],
                color: '#D4AF37'
            },
            {
                id: 'city-palace',
                name: 'ì‹œí‹° íŒ°ë¦¬ìŠ¤',
                sub: 'ìì´í‘¸ë¥´ ì™•ê¶',
                year: 1727,
                locX: 0, // Center
                locY: 0,
                locationType: 'ë„ì‹¬ ì¤‘ì•™ (City Heart)',
                history: 'ìì´í‘¸ë¥´ ì„¤ë¦½ê³¼ í•¨ê»˜ 1729~1732ë…„ì— ì§€ì–´ì¡Œìœ¼ë©°, í˜„ì¬ë„ ì™•ì¡±ì˜ í›„ì†ì´ ê±°ì£¼í•˜ëŠ” ê³µê°„(ì°¬ë“œë¼ ë§ˆí• )ì´ ìˆìŠµë‹ˆë‹¤. ìì´í‘¸ë¥´ í†µì¹˜ì˜ ì¤‘ì‹¬ì§€ì˜€ìŠµë‹ˆë‹¤.',
                arch: 'ë¼ì§€í‘¸íŠ¸, ë¬´êµ´, ê·¸ë¦¬ê³  í›„ê¸°ì˜ ìœ ëŸ½ ì–‘ì‹ì´ í˜¼í•©ëœ ë³µí•©ì²´ì…ë‹ˆë‹¤. "í”¼ì½• ê²Œì´íŠ¸(ê³µì‘ ë¬¸)" ë“± 4ê³„ì ˆì„ ìƒì§•í•˜ëŠ” 4ê°œì˜ ë¬¸ì´ ìœ ëª…í•˜ë©°, ì •êµí•œ ëŒ€ë¦¬ì„ ì¡°ê°ì´ íŠ¹ì§•ì…ë‹ˆë‹¤.',
                tips: 'ë°•ë¬¼ê´€ì—ëŠ” ì™•ì‹¤ ì˜ìƒê³¼ ë¬´ê¸°ê°€ ì „ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ ìš”ê¸ˆì„ ë‚´ë©´ ì™•ì¡± ê±°ì£¼ êµ¬ì—­ì˜ ì¼ë¶€ë¥¼ ê°€ì´ë“œì™€ í•¨ê»˜ íˆ¬ì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                time: '2~3ì‹œê°„',
                price: 'â‚¹700',
                archStats: [50, 50, 40, 85, 80],
                color: '#CD5C5C'
            },
            {
                id: 'jantar-mantar',
                name: 'ì”íƒ€ë¥´ ë§Œíƒ€ë¥´',
                sub: 'ì™•ë¦½ ì²œë¬¸ëŒ€',
                year: 1734,
                locX: 0.1, // Near City Palace
                locY: -0.05,
                locationType: 'ë„ì‹¬ (Near Palace)',
                history: 'í•™êµ¬ì ì¸ ì™• ì‚¬ì™€ì´ ìì´ ì‹± 2ì„¸ê°€ ê±´ì„¤í•œ 5ê°œì˜ ì²œë¬¸ëŒ€ ì¤‘ ê°€ì¥ í¬ê³  ë³´ì¡´ ìƒíƒœê°€ ì¢‹ì€ ê³³ì…ë‹ˆë‹¤. ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ë¬¸í™”ìœ ì‚°ìœ¼ë¡œ ì§€ì •ë˜ì—ˆìŠµë‹ˆë‹¤.',
                arch: 'ì„ì¡°ì™€ ëŒ€ë¦¬ì„ìœ¼ë¡œ ë§Œë“  19ê°œì˜ ì²œë¬¸ ê¸°êµ¬ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì„¸ê³„ì—ì„œ ê°€ì¥ í° í•´ì‹œê³„ "ì‚¼ë ì–€íŠ¸ë¼"ëŠ” 2ì´ˆ ë‹¨ìœ„ê¹Œì§€ ì‹œê°„ì„ ì¸¡ì •í•  ìˆ˜ ìˆëŠ” ê³¼í•™ì  ì •ë°€í•¨ì„ ìë‘í•©ë‹ˆë‹¤.',
                tips: 'ê·¸ëŠ˜ì´ ê±°ì˜ ì—†ìœ¼ë¯€ë¡œ í•œë‚®ì€ í”¼í•˜ì„¸ìš”. ê¸°êµ¬ë“¤ì˜ ì‘ë™ ì›ë¦¬ë¥¼ ì´í•´í•˜ë ¤ë©´ í˜„ì§€ ê°€ì´ë“œë‚˜ ì˜¤ë””ì˜¤ ê°€ì´ë“œê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.',
                time: '1.5ì‹œê°„',
                price: 'â‚¹200',
                archStats: [100, 10, 0, 90, 40], // High 'Science/Scale', Low 'Decoration'
                color: '#4A3B32'
            },
            {
                id: 'albert-hall',
                name: 'ì•Œë²„íŠ¸ í™€ ë°•ë¬¼ê´€',
                sub: 'ì£¼ë¦½ ì¤‘ì•™ ë°•ë¬¼ê´€',
                year: 1887,
                locX: 0.2,
                locY: -0.8, // South of center
                locationType: 'ë‚¨ìª½ ê³µì› (Ram Niwas Garden)',
                history: '1876ë…„ ì›¨ì¼ìŠ¤ ì™•ì(í›—ë‚  ì—ë“œì›Œë“œ 7ì„¸)ì˜ ë°©ë¬¸ì„ ê¸°ë…í•´ ì´ˆì„ì„ ë†“ì•˜ìœ¼ë©°, 1887ë…„ ë°•ë¬¼ê´€ìœ¼ë¡œ ê°œê´€í–ˆìŠµë‹ˆë‹¤. ì˜êµ­ì˜ ê³µê³µ ê±´ì¶• ì–‘ì‹ì„ ë°˜ì˜í–ˆìŠµë‹ˆë‹¤.',
                arch: 'ì¸ë„-ì‚¬ë¼ì„¼(Indo-Saracenic) ì–‘ì‹ì˜ ëŒ€í‘œì‘ì…ë‹ˆë‹¤. ì´ìŠ¬ëŒì˜ ë”ê³¼ ì•„ì¹˜, ìœ ëŸ½ì˜ ê³ ë”• ì–‘ì‹, ì¸ë„ì˜ ì„ì¡° ê¸°ìˆ ì´ ìš°ì•„í•˜ê²Œ ìœµí•©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.',
                tips: 'ë°¤ì—ëŠ” ê±´ë¬¼ ì „ì²´ê°€ í™”ë ¤í•œ ì¡°ëª…ìœ¼ë¡œ ë°í˜€ì ¸ ì•¼ê²½ ëª…ì†Œë¡œ ìœ ëª…í•©ë‹ˆë‹¤. ë‚´ë¶€ì—ëŠ” ì´ì§‘íŠ¸ ë¯¸ë¼ì™€ ë‹¤ì–‘í•œ ë¯¸ë‹ˆì–´ì²˜ íšŒí™”ê°€ ì „ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.',
                time: '2ì‹œê°„',
                price: 'â‚¹300',
                archStats: [30, 40, 90, 75, 70], // High European influence
                color: '#A52A2A'
            },
            {
                id: 'nahargarh-fort',
                name: 'ë‚˜í•˜ê°€ë¥´ í¬íŠ¸',
                sub: 'í˜¸ë‘ì´ ìš”ìƒˆ',
                year: 1734,
                locX: -0.5,
                locY: 0.8, // North West Hill
                locationType: 'ë¶ì„œìª½ ì–¸ë• (Ridge)',
                history: 'ë„ì‹œì˜ ë°©ì–´ë¥¼ ê°•í™”í•˜ê¸° ìœ„í•´ ì§€ì–´ì¡ŒìŠµë‹ˆë‹¤. ì „ì„¤ì— ë”°ë¥´ë©´ ë‚˜í•˜ ì‹±(Nahar Singh) ì™•ìì˜ ì˜í˜¼ì´ ê±´ì„¤ì„ ë°©í•´í•˜ì—¬ ê·¸ì˜ ì´ë¦„ì„ ë”°ì„œ ì§€ì—ˆë‹¤ê³  í•©ë‹ˆë‹¤.',
                arch: 'ë§ˆë“œë²¤ë“œë¼ ë°”ë°˜(Madhavendra Bhawan)ì€ ì™•ê³¼ 12ëª…ì˜ ì™•ë¹„ë¥¼ ìœ„í•´ ë˜‘ê°™ì€ êµ¬ì¡°ì˜ 12ê°œ ìŠ¤ìœ„íŠ¸ë£¸ì´ ì—°ê²°ëœ êµ¬ì¡°ë¡œ, í”„ë¼ì´ë²„ì‹œì™€ ì—°ê²°ì„±ì„ ë™ì‹œì— ê³ ë ¤í•œ ë…ì°½ì  ì„¤ê³„ì…ë‹ˆë‹¤.',
                tips: 'ìì´í‘¸ë¥´ ì‹œë‚´ ì „ì²´ê°€ ë‚´ë ¤ë‹¤ë³´ì´ëŠ” ìµœê³ ì˜ ì¼ëª° í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ëŠ¦ì€ ì˜¤í›„ì— ì˜¬ë¼ê°€ì„œ ì•¼ê²½ê¹Œì§€ ë³´ê³  ë‚´ë ¤ì˜¤ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.',
                time: '2ì‹œê°„',
                price: 'â‚¹200',
                archStats: [80, 30, 20, 70, 60],
                color: '#8B4513'
            }
        ];

        // Global State
        let currentMonumentId = monuments[2].id; // Default: City Palace
        let radarChartInstance = null;
        let weatherChartInstance = null;

        // --- PLOTLY MAP SETUP ---
        function initMap() {
            const xVals = monuments.map(m => m.locX);
            const yVals = monuments.map(m => m.locY);
            const textVals = monuments.map(m => m.name);
            const colors = monuments.map(m => m.color);
            const sizes = monuments.map(m => m.id === currentMonumentId ? 25 : 15);

            const data = [{
                x: xVals,
                y: yVals,
                text: textVals,
                mode: 'markers+text',
                textposition: 'top center',
                marker: {
                    size: sizes,
                    color: colors,
                    opacity: 0.8,
                    line: {
                        color: '#4A3B32',
                        width: 1
                    }
                },
                type: 'scatter',
                hoverinfo: 'text'
            }];

            const layout = {
                title: false,
                xaxis: { 
                    range: [-1, 1.5], 
                    showgrid: true, 
                    zeroline: false, 
                    showticklabels: false,
                    title: 'ì„œ <--- ìœ„ì¹˜ (ë„ì‹¬ ê¸°ì¤€) ---> ë™'
                },
                yaxis: { 
                    range: [-1.2, 2], 
                    showgrid: true, 
                    zeroline: false, 
                    showticklabels: false,
                    title: 'ë‚¨ <--- ê³ ë„/ìœ„ë„ ---> ë¶'
                },
                margin: { l: 40, r: 20, b: 40, t: 20 },
                paper_bgcolor: '#FFF8F0', // Match Tailwind bg-jaipur-bg
                plot_bgcolor: '#FFF8F0',
                hovermode: 'closest',
                dragmode: false // Disable panning/zooming for simplicity
            };

            const config = { responsive: true, displayModeBar: false };

            Plotly.newPlot('map-container', data, layout, config);

            // Click Event
            document.getElementById('map-container').on('plotly_click', function(data){
                const pointIndex = data.points[0].pointIndex;
                const selectedMonument = monuments[pointIndex];
                updateDetail(selectedMonument.id);
            });
        }

        // --- CHART.JS RADAR CHART SETUP ---
        function initRadarChart() {
            const ctx = document.getElementById('archRadarChart').getContext('2d');
            
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ë¼ì§€í‘¸íŠ¸ ì˜í–¥', 'ë¬´êµ´ ì˜í–¥', 'ìœ ëŸ½ ì˜í–¥', 'ê·œëª¨(ì›…ì¥í•¨)', 'ì¥ì‹ ì •êµí•¨'],
                    datasets: [{
                        label: 'ê±´ì¶• ìš”ì†Œ ë¶„ì„',
                        data: [0, 0, 0, 0, 0], // Initial placeholder
                        backgroundColor: 'rgba(230, 126, 115, 0.4)', // Jaipur accent
                        borderColor: '#CD5C5C',
                        pointBackgroundColor: '#D4AF37',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#D4AF37'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0,0,0,0.1)' },
                            grid: { color: 'rgba(0,0,0,0.1)' },
                            pointLabels: {
                                font: { size: 11, family: "'Noto Sans KR', sans-serif" },
                                color: '#4A3B32'
                            },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers for cleaner look
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // --- CHART.JS WEATHER CHART SETUP ---
        function initWeatherChart() {
            const ctx = document.getElementById('weatherChart').getContext('2d');
            
            // Data: Avg High Temp (C) vs Comfort Index (Inverse of Crowds/Heat)
            const months = ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”', '7ì›”', '8ì›”', '9ì›”', '10ì›”', '11ì›”', '12ì›”'];
            const temps = [22, 25, 31, 37, 40, 39, 34, 32, 33, 33, 29, 24]; // Max Temp
            const crowds = [9, 9, 8, 4, 2, 2, 4, 5, 6, 8, 9, 10]; // 1-10 Scale (10 = High Traffic/Good Weather)

            weatherChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: months,
                    datasets: [
                        {
                            label: 'í‰ê·  ìµœê³  ê¸°ì˜¨ (Â°C)',
                            data: temps,
                            type: 'line',
                            borderColor: '#CD5C5C',
                            backgroundColor: '#CD5C5C',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'ì—¬í–‰ ì í•©ë„ & ë°©ë¬¸ê° ìˆ˜ (1-10)',
                            data: crowds,
                            backgroundColor: function(context) {
                                const value = context.raw;
                                if (value >= 8) return 'rgba(74, 59, 50, 0.8)'; // Good (Dark)
                                if (value <= 4) return 'rgba(200, 200, 200, 0.5)'; // Bad (Light)
                                return 'rgba(212, 175, 55, 0.6)'; // Gold
                            },
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'ê¸°ì˜¨ (Â°C)' },
                            grid: { display: false }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: { display: true, text: 'ì—¬í–‰ ì§€ìˆ˜' },
                            grid: { drawOnChartArea: true, color: 'rgba(0,0,0,0.05)' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if(context.dataset.type === 'line') return `ê¸°ì˜¨: ${context.raw}Â°C`;
                                    return `ì—¬í–‰ ì§€ìˆ˜: ${context.raw}/10`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- UPDATE LOGIC ---
        function updateDetail(id) {
            currentMonumentId = id;
            const data = monuments.find(m => m.id === id);
            if (!data) return;

            // 1. Update Text
            document.getElementById('detail-title').innerText = data.name;
            document.getElementById('detail-subtitle').innerText = data.sub;
            document.getElementById('detail-badge').innerText = `${data.year}ë…„ ì™„ê³µ`;
            document.getElementById('detail-history').innerText = data.history;
            document.getElementById('detail-arch').innerText = data.arch;
            document.getElementById('detail-tips').innerText = data.tips;
            document.getElementById('stat-time').innerText = data.time;
            document.getElementById('stat-price').innerText = data.price;

            // 2. Update Map Markers (Highlight)
            const updateSizes = monuments.map(m => m.id === id ? 30 : 12);
            const updateOpacity = monuments.map(m => m.id === id ? 1 : 0.6);
            
            Plotly.restyle('map-container', {
                'marker.size': [updateSizes],
                'marker.opacity': [updateOpacity]
            });

            // 3. Update Radar Chart
            radarChartInstance.data.datasets[0].data = data.archStats;
            radarChartInstance.update();

            // 4. Update Timeline List UI (Highlight active)
            renderTimeline();
        }

        function renderTimeline() {
            const list = document.getElementById('timeline-list');
            list.innerHTML = '';

            // Sort by year
            const sorted = [...monuments].sort((a, b) => a.year - b.year);

            sorted.forEach(m => {
                const isActive = m.id === currentMonumentId;
                const item = document.createElement('div');
                item.className = `mb-6 ml-4 relative cursor-pointer group transition-all duration-300`;
                item.onclick = () => updateDetail(m.id);

                // Dot on line
                const dot = document.createElement('div');
                dot.className = `absolute -left-[25px] top-1 w-4 h-4 rounded-full border-2 border-white shadow-sm transition-colors duration-300 ${isActive ? 'bg-jaipur-pink scale-125' : 'bg-gray-300 group-hover:bg-jaipur-gold'}`;
                
                // Content
                const content = document.createElement('div');
                content.innerHTML = `
                    <span class="text-xs font-bold ${isActive ? 'text-jaipur-pink' : 'text-gray-400'}">${m.year}</span>
                    <h4 class="font-bold text-sm ${isActive ? 'text-gray-900' : 'text-gray-600 group-hover:text-gray-800'}">${m.name}</h4>
                `;

                item.appendChild(dot);
                item.appendChild(content);
                list.appendChild(item);
            });
        }

        // --- INITIALIZATION ---
        window.addEventListener('DOMContentLoaded', () => {
            initMap();
            initRadarChart();
            initWeatherChart();
            renderTimeline();
            
            // Initial load
            updateDetail(currentMonumentId);
        });

    </script>
</body>
</html>